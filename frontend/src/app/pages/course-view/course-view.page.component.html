<!--This contains the graph control menu options.-->
<p-speedDial [model]="dial_items" [radius]="75" direction="down-right" type="quarter-circle"></p-speedDial>

<!--This displays the graph of the course.-->
<graph #graphComponent class="course-view-graph-container" [edges]="this.edges" [nodes]="this.nodes"
  [clusters]="this.clusters" (nodeClicked)="onNodeClick($event)"></graph>

<!--This is a dialog component to display whenever a node is clicked.-->
<p-dialog header="Header" [draggable]="false" [(visible)]="dialogVisible" [position]="'bottomright'"
  [style]="{ width: '33vw' }">
  <ng-template pTemplate="header">
    <div class="dialog-header">
      <p-avatar image="https://primefaces.org/cdn/primeng/images/avatar/amyelsner.png" shape="circle" />
      <span class="dialog-header-text">{{selectedNode.label}}</span>
    </div>
  </ng-template>
  <p class="m-0">
    <!--TODO: ADD PROPER DESCRIPTION TEXT HERE!-->
  </p>
  <ng-template pTemplate="footer">
    <p-button icon="pi pi-book" (click)="dialogVisible = false" label="View Lesson" pAutoFocus
      [autofocus]="true"></p-button>
  </ng-template>
</p-dialog>


<!--This is the side bar to display filtering options.-->
<p-sidebar [(visible)]="sidebarVisible" [style]="{ width: '33vw' }" [modal]="false">
  <ng-template pTemplate="header">
    <h1 style="margin: 0;">
      Search & Filter
    </h1>
  </ng-template>
  <ng-template pTemplate="content">
    <!--Need wrapping spans in order for label to animate up-->

    <span class="p-float-label" style="margin-top: 2em;">
      <p-autoComplete [(ngModel)]="selectedNode" [dropdown]="true" [forceSelection]="true"
        [suggestions]="suggestedNodes" (completeMethod)="getNodeLabels($event)" (onSelect)="onNodeClick($event.value)"
        field="label" inputId="searchNodeNameInput" [style]="{'width':'100%'}" />
      <label for="searchNodeNameInput">Search By Name</label>
    </span>

    <span class="p-float-label" style="margin-top: 2em;">
      <p-multiSelect [options]="chips" [(ngModel)]="selectedChips" display="chip" [showClear]="true"
        inputId="chipsInput" [style]="{'width':'100%'}"></p-multiSelect>
      <label for="chipsInput">Search By Tags</label>
    </span>



    <!--Other search/filters, probably based on tags on lessons-->

    <div style="margin-top: 2em; display: flex; align-items: center;">
      <!--style is a hotfix for centering label-->
      <p-inputSwitch [(ngModel)]="showPreReqs" inputId="showPreReqsToggle" height="28px" />
      <label style="margin-left: 0.5em;" for="showPreReqsToggle">Show Pre-requisites</label>
    </div>

  </ng-template>
  <ng-template pTemplate="footer">Footer Content</ng-template>
</p-sidebar>