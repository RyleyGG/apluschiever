<p-card [style]="{
  position: 'absolute',
  top: '0.75em',
  right: '0.75em',
}">
  <div style="
    display: flex; 
    align-items: center; 
    gap: 0.5em;
    padding: 0.5em;
  ">
    <!--TODO: add onchange actions to all these using the event emitter.-->
    <!--TODO: enable changing the pTooltip to something different based on the checked attribute for the enable/disable-->
    <p-toggleButton [(ngModel)]="checked" onIcon="pi pi-lock-open" offIcon="pi pi-lock" pTooltip="Enable Edits"
      tooltipPosition="bottom" />
    <p-toggleButton [(ngModel)]="checked" onIcon="pi pi-plus-circle" offIcon="pi pi-plus-circle" pTooltip="Add Lesson"
      tooltipPosition="bottom" />
    <p-toggleButton [(ngModel)]="checked" onIcon="pi pi-share-alt" offIcon="pi pi-share-alt" pTooltip="Add Connection"
      tooltipPosition="bottom" />
    <p-toggleButton [(ngModel)]="checked" onIcon="pi pi-trash" offIcon="pi pi-trash" pTooltip="Delete Element"
      tooltipPosition="bottom" />
  </div>
</p-card>


<!--This displays the graph of the course.-->
<graph #graphComponent class="course-view-graph-container" [edges]="this.edges" [nodes]="this.nodes"
  [clusters]="this.clusters" [layoutSettings]="courseViewGraphSettings" (nodeClicked)="onNodeClick($event)"></graph>

<!--This is a dialog component to display whenever a node is clicked.-->
<p-dialog header="Header" [draggable]="false" [(visible)]="dialogVisible" [position]="'bottomright'"
  [style]="{ width: '33vw' }">
  <ng-template pTemplate="header">
    <div class="dialog-header">
      <p-avatar image="https://primefaces.org/cdn/primeng/images/avatar/amyelsner.png" shape="circle" />
      <span class="dialog-header-text">{{selectedNode.label}}</span>
    </div>
  </ng-template>
  <div style="display: flex; align-items: center; gap: 0.5em;">
    <p-tag *ngFor="let tag of selectedNode?.data.tags" value="{{tag}}"></p-tag>
  </div>
  <p class="m-0">
    {{selectedNode?.data.short_description}}
  </p>
  <ng-template pTemplate="footer">
    <!--TODO: Have click go to lesson page-->
    <p-button [routerLink]="['/lesson', selectedNode.label]" icon="pi pi-book" (click)="dialogVisible = false"
      label="View Lesson" pAutoFocus [autofocus]="false" [style]="{margin: '0'}" />
  </ng-template>
</p-dialog>